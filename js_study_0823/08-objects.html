<!DOCTYPE html>
<html>
    <head>
        <style>
            button {
                background-color: rgb(0, 131, 131);
                color: aliceblue;
                border: none;
            }
        </style>
    </head>
    <body>
        <p>papage</p>
        <button onclick="playgame('石頭')">石頭</button>

        <button onclick="playgame('布')">布</button>

        <button onclick="playgame('剪刀')">剪刀</button>

        <button onclick="playgame('重置')">重置</button>

        <p></p>

        <script>
            const product2 = {
                name: 'shirt',
                'delivery-time': '1 day',

                rating: {
                    stars: 4.5,
                    count: 87
                },

                fun: function function1() {
                    console.log('qeq');
                    
                }
            };
            
            console.log(product2);
            console.log(product2['name']);
            console.log(product2['delivery-time']);
            
            console.log(product2.rating.stars);

            product2.fun();

            console.log(JSON.stringify(product2.name));//轉成json的格式
            
            const jsonString = JSON.stringify(product2);

            console.log(JSON.parse(jsonString));//轉回來原來的格式
            
            /*
            const score = {
                wins: 0,
                losses: 0,
                ties: 0
            };
            */

            const score = JSON.parse(localStorage.getItem('score'));

            function playgame(gamevar){
                const computerMove = pickComputerMove();                
        
                let result = '';

                if(gamevar === '剪刀'){

                    if(computerMove === '石頭'){
                        result = '你輸了';
                    } else if(computerMove === '布'){
                        result = '你贏了'
                    } else if(computerMove === '剪刀') {
                        result = '平手'
                    }

                } else if(gamevar === '布'){

                    if(computerMove === '石頭'){
                        result = '你贏了';
                    } else if(computerMove === '布'){
                        result = '平手'
                    } else if(computerMove === '剪刀') {
                        result = '你輸了'
                    }

                } else if(gamevar === '石頭'){

                    if(computerMove === '石頭'){
                        result = '平手';
                    } else if(computerMove === '布'){
                        result = '你輸了'
                    } else if(computerMove === '剪刀') {
                        result = '你贏了'
                    }
                }

                if(result === '你贏了'){
                    score.wins += 1;
                } else if(result === '你輸了'){
                    score.losses += 1;
                } else if(result === '平手'){
                    score.ties += 1;
                }

                if(gamevar === '重置'){
                    score.wins = 0;
                    score.losses = 0;
                    score.ties = 0;
                }

                localStorage.setItem('score', JSON.stringify(score));


                alert(computerMove + '，' + result + '\n' + '贏：' + score.wins + '\n' + '輸：' + score.losses + '\n' + '平手：' + score.ties);
            }

            function pickComputerMove() {
                const randomNumber = Math.random();
                let computerMove = '';
            //console.log(randomNumber);

            //蛋糕切三塊
                if(randomNumber >= 0 && randomNumber < 1/3){
                    computerMove = '石頭';
                }else if(randomNumber >= 1/3 && randomNumber < 2/3){
                    computerMove = '布';
                }else if(randomNumber >= 2/3 && randomNumber < 1){
                    computerMove = '剪刀';
                }

                return computerMove;
            }
        
        function calculatax(cost, txPercent = 0.1){
            console.log(cost * txPercent);
        }

        calculatax(1234);
        calculatax(1234, 0.2);

        </script>

    </body>
</html>